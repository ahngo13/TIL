# 12/6 수업

## 암호화

#### 비도 = 암호화 강도

어느정도 시도해야 열 수 있는가? 

비도 128 = 2^128 → 키 길이 

P → A → E

A = key



#### 대칭키

암호화 하는 키와 복호화 하는 키가 동일

유일키, 비밀키(라고 불리우기도 함), 관용 암호화 방식



#### 비대칭키

암호화 하는 키와 복호화 하는 키가 상이

키가 쌍으로 움직인다.

개인키와 공개키를 만들고 공개키는 오픈해도 된다. (오픈해도 찾는데 오래 걸리므로)

공개키 암호화 방식이라고도 함.



##### 비대칭 암호화 방식을 통한 기밀성 보장 방법

- (송신측)  수신자의 공개키를 암호화하고,
- (수신측) 수신자의 개인키로 복호화

##### 인증, 원본증명, 부인방지를 보장하는 방법

- (송신측) 송신자의 개인키로 암호화 → (전자)서명
- (수신측) 송신자의 공개키로 복호화 → (서명)검증

###### 해시(hash, Message Digest) 

임의의 입력 → 고정 길이 출력

단방향성, 복호화가 안됨.

##### 비대칭 암호화 방식의 단점 → 대칭 암호화 방식에 비해 속도가 느리다



## 블록체인

공공재, 기밀성보다는 무결성, 가용성 측면 강조



### 블록체인 분류

Central Network <> Distribute Network

Public : ex) 비트코인

Private : 비즈니스에 적합

| 구분              | Public                                                       | Consortium                                                   | private                                               |
| ----------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ----------------------------------------------------- |
| 관리자            | 모든 거래 참여자                                             | 컨소시엄에 소속된 참여자                                     | 한 중앙기관이 모든 권한 보유                          |
| 참여자            | Permissionless 불특정 사용자가 참여할 수 있으므로, 악의를 가진 사용자도 참여할 수 있음 | Permissioned 참여자의 신원이 확인되고, 신뢰할 수 있음        | ''                                                    |
| 거버넌스          | 한번 정해진 법칙을 바꾸기 매우 어려움                        | 컨소시엄 참여자들의 합의에 따라 법칙을 바꿀수 있음           | 중앙기관 의사 결정에 따라 용이하게 법칙을 바꿀 수있음 |
| 거래증명          | 거래 증명자가 누구인지 사전에 알 수 없음. Pow, PoS 등의 알고리즘에 따라 거래 증명자가 결정 | 거래 증명자가 인증을 거쳐 알려진 상태. 사전에 합의된 규칙에 따라 거래 검증 및 블록 생성이 이루어짐 | 중앙기관에 의하여 거래 증명이 이루어짐                |
| 네트워크확장      | 어려움                                                       | 쉬움                                                         | 매우 쉬움                                             |
| 식별성            | 익명성                                                       | 식별 가능                                                    | 식별 가능                                             |
| 트랜잭션 처리시간 | 상대적으로 오래 걸림. BitCoin 10분, Ethereum 10초            | 빠르게 트랜잭션 처리. 수초에서 실시간                        | ''                                                    |
| 유즈 케이스       | 디지털 화폐                                                  | 은행 송금, 증권 거래 등 비즈니스 네트워크에서 사용           | ''                                                    |
| 장단점            | 전력 소비가 많음. 최종성이 없음. 51% 공격 문제 발생          | 전력 소비를 최소화. 최종성이 있음. 경량화 되어있으며, 빠르게 처리 | ''                                                    |
| 구현예            | 비트코인, 이더리움                                           | 하이퍼레저, 리플                                             | ''                                                    |

### 핵심기술

### 블록

- 유효한 트랜잭션 정보의 묶음

- 비트코인 블록 하나에 포함된 트랜잭션 개수 : 평균 1,400개

- 비트코인 블록 하나의 크기 : 평균 1.14MB

- 블록 높이 : 제너시스 블록[0] 이후 블록이 추가될 때마다 1씩 증가

- 블록 깊이[=confirm] : 블록[1]이 만들어진 후 새로운 블록이 추가 될 때마다 1씩 증가

| 구성              | 명칭                        | 설명                                                         |
| ----------------- | --------------------------- | ------------------------------------------------------------ |
| 블록헤더[80 byte] | 버전[4byte]                 | 데이터구조의 버전                                            |
|                   | 이전 블록 헤더 해쉬[32byte] | 블록의 체인구조에서 이전블로[부모블록]에 대한 해쉬 참조 값   |
|                   | 머클 루트[32byte]           | 해당 블록에 포함된 거래로부터 생성된 머클트리의 루트에 대한 해쉬[블록에 들어있는 모든 거래의 요약본] |
|                   | 타임스탬프[4byte]           | 블록의 생성 시간                                             |
|                   | 난이도 목표[4byte]          | Bit 값으로 블록의 작업증명 알고리즘에 대한 난이도 목표       |
|                   | 난스[nonce] [4byte]         | 작업증명 알고리즘에 사용되는 카운터, 난이도 목표에 맞는 해시값을 찾음. |
| 블록바디          | 트랜잭션 카운트             | 블록에 포함한 트랜잭션 개수[1~9 byte]                        |
|                   | 코인베이스 트랜잭션         | 블록 생성시 발생되는 비트코인. 해당 블록을 마이닝한 마이너의 수입 |
|                   | 트랜잭션                    | 10분 동안 수집한 트랜잭션 정보                               |



### 블록해쉬

- 블록의 식별자

- 블록 헤더 정보를 SHA256 해쉬 함수로 계산한 32바이트 길이의 숫자



### 블록체인

- 블록이 이어져서 만들어진 블록의 집합체
- 블록으로 이루어진 링크드 리스트



### 트랜잭션

- 비트코인의 거래 내역
- 거래 후 남은 잔액이 브트코인이므로 ,비트코인의 거래 내역을 기록한 트랜잭션이 곧 비트코인이 된다.

#### 코인베이스 트랜잭션

- 블록을 채굴한 사람에게 보상금을 지급해주는트랜잭션
- 이전 출력[지급]이 존재하지 않음
- 100 확인[confirmation] 이전에는 사용할 수 없도록 제한 → 다른 더 긴 블록이 생성되어 무효화 될 수 있기 때문에 거래가 꼬일 수 있음.

#### 일반 트랜잭션

- 코인베이스 트랜잭션을 제외한 모든 트랜잭션

